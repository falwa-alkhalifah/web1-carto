<!DOCTYPE html>
<html lang ="en">
<head>
    <meta charset="UTF-8">
        <link rel="stylesheet" href="Style.css">
    <title>Carto </title>
	 <script src="script.js" defer></script>

</head>
<body>
   <header>
        <div class="header-content">
            <img src="images/loge-bg.png" alt="Cart Image" class="logo">
        </div>
        <nav>
            <ul>
                <li><a href="Home.html" class="Link ">Home</a></li>
                <li><a href="Fashion.html" class="Link">Fashion</a></li>
                <li><a href="Accessories.html" class="Link">Accessories</a></li>
                <li><a href="Toys.html" class="Link">Toys</a></li>
                <li><a href="Seller.html" class="Link">Seller</a></li>
                <li><a href="User.html" class="Link active">User</a></li>
            </ul>
        </nav>
    </header>
 

<main>
        <div class="breadcrumb">
            <a href="Home.html">Home</a> &gt; <a href="User.html">User</a> &gt; <a href="Cart.html">Cart</a>  &gt; <a href="Rate.html">Rate</a>
        </div>
		<hr>
		 
	<div class="review-page"> 
       <label for="orderNumber">Select Order Number:</label>
	   <select  id="orderNumber" >
			<option value="">--Select Order--</option>
                <option value="Order #1">Order #1</option>
				</select>
			<div class="overall-rating">
            <h2>Overall Rating:</h2>
             <div class="rating">
    <span class="star" data-value="1" onclick="setRating(1)"  >★</span>
    <span class="star" data-value="2"  onclick="setRating(2)" >★</span>
    <span class="star" data-value="3"  onclick="setRating(3)">★</span>
    <span class="star" data-value="4"  onclick="setRating(4)" >★</span>
    <span class="star" data-value="5"  onclick="setRating(5)" >★</span>
        </div>
        </div>
		<div id="rating-items"></div>
                <h3> Other Ratings:</h3> 
                    <div class="rate-card">
                                <div class="rating">
								</div>
								</div>
       
		
				

        <button type="button" class="submit-btn" onclick="validateForm()">Submit Review</button>
     </div>
	</main>
   
  <footer> 
    <div class="footer-content">
   <img src="images/loge-bg.png" alt="Cart Image" class="logo">
       <div class="contact-us">
           <h4>Contact Us</h4>
           <p>+96659823459</p>
           <p>Carto@gmail.com</p>
       </div>
        <div class="divider"></div>
      <div class ="about-us">
<h4>About us </h4> 
<p>Our platform provides a secure and convenient shopping experience,
    offering a wide range of products at competitive prices. Enjoy fast delivery,
     flexible payment options, and hassle-free returns. Shop with confidence, backed by our 24/7 customer support 
     All products come with an authenticity guarantee and quality warranty</p>
     </div>
</div>
     <div class="social-icon">
     <img src="images/WhatsApp.png" alt="WhatsApp" class="social-link">
     <img src="images/Tiktok.png" alt="Tiktok" class="social-link">
     <img src="images/Snapchat.png" alt="Snapchat" class="social-link">
     <img src="images/instagram.png" alt="instagram" class="social-link">
     </div>

    
   </footer>
   <div class ="copyright">
   &copy;2024 Carto All right reserved
   </div>
</script>
function validateForm() {
  
    const stars = document.querySelectorAll('.overall-rating .rating .star'); // لتحديد النجوم فقط في الـ overall-rating
    let selectedRating = 0;
	 const comment = document.getElementById('bag-comments').value;
// Find the selected rating from active stars
    stars.forEach((star, index) => {
        if (star.classList.contains('active')) { 
            selectedRating = index + 1;
        }
    });

   

    // Validate rating
    if (selectedRating === 0) {
        alert("Please choose a rating score.");
        return false;
    }
	if (comment.trim() === "") {
        alert("Please add a comment.");
        return;
    }

    // If valid, show feedback
    alert(`Thank you for your feedback!\nYour Overall rating for your order is ${selectedRating} star(s).`);
    window.location.href = "Home.html"; // Redirect to Home page
}
       
	



function setRating(rating) {
    const stars = document.querySelectorAll('.star');  // Get all star labels
    stars.forEach((star, index) => {
        if (index < rating) {
            star.classList.add('active');  // Add 'active' class to the selected stars
        } else {
            star.classList.remove('active');  // Remove 'active' class from the non-selected stars
        }
    });
}
 function setActiveStar(starElement) {
      if (starElement.classList.contains('active')) {
        starElement.classList.remove('active'); // إزالة التفعيل
      } else {
        starElement.classList.add('active'); // تفعيل النجمة
      }
    }
 window.onload = function() {
           
            if (localStorage.getItem('theme') === 'dark') {
                document.body.classList.add('dark-theme');
            }
        };


 loadPurchasedItems();
 function loadPurchasedItems() {
            const purchasedItems = JSON.parse(localStorage.getItem('purchasedItems')) || [];
            const itemsContainer = document.getElementById('rating-items');

            if (purchasedItems.length === 0) {
                itemsContainer.innerHTML = '<p>No products to rate.</p>';
                return;
            }
    purchasedItems.forEach((item, index) => {
        const itemDiv = document.createElement('div');
        itemDiv.classList.add('rate-card');
        itemDiv.innerHTML = `
            <div class="rate-card-header">
                <p><strong>${item.name}</strong> - ${item.price} SAR</p>
            </div>
            <div class="rate-card-rating">
                <label class="star" onclick="setActiveStar(this)">★</label>
                <label class="star" onclick="setActiveStar(this)">★</label>
                <label class="star" onclick="setActiveStar(this)">★</label>
                <label class="star" onclick="setActiveStar(this)">★</label>
                <label class="star" onclick="setActiveStar(this)">★</label>
            </div>
            <label for="bag-comments-${index}">Comments:</label>
            <textarea id="bag-comments-${index}" placeholder="Add a comment"></textarea>
        `;
        itemsContainer.appendChild(itemDiv);
    });
}

		
		</script>
		
</body>
</html>
